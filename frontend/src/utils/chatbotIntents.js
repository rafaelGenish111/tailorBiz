export const intents = {
  greeting: {
    patterns: ['×©×œ×•×', '×”×™×™', '×‘×•×§×¨ ×˜×•×‘', '×¢×¨×‘ ×˜×•×‘', '×”×™', '×ž×” ×§×•×¨×”', '×ž×” ×”×ž×¦×‘'],
    responses: [
      '×©×œ×•×! ðŸ‘‹ ×× ×™ ×›××Ÿ ×œ×¢×–×•×¨ ×œ×š ×¢× ×›×œ ×ž×” ×©×§×©×•×¨ ×œ-TailorBiz.',
      '×”×™×™! × ×¢×™× ×œ×”×›×™×¨ ðŸ˜Š ××™×š ××•×›×œ ×œ×¢×–×•×¨ ×œ×š ×”×™×•×?',
      '×©×œ×•× ×•×‘×¨×•×›×™× ×”×‘××™× ×œ-TailorBiz! ×‘×ž×” ××•×›×œ ×œ×¡×™×™×¢?',
    ],
    quickReplies: [
      { label: '×¡×¤×¨ ×œ×™ ×¢×œ ×”×ª×›×•× ×•×ª', value: 'features' },
      { label: '×›×ž×” ×–×” ×¢×•×œ×”?', value: 'pricing' },
      { label: '×× ×™ ×¨×•×¦×” ×“×ž×•', value: 'demo' },
    ],
  },

  features: {
    patterns: ['×ª×›×•× ×•×ª', '×ž×” ×”×ž×¢×¨×›×ª', '×ž×” ×™×©', '×™×›×•×œ×•×ª', '×¤×™×¦×³×¨×™×', '×ž×” ×–×” ×›×•×œ×œ', '×ž×” ××ª× ×ž×¦×™×¢×™×'],
    responses: [
      '×”×ž×¢×¨×›×ª ×©×œ× ×• ×›×•×œ×œ×ª:\n\nðŸŽ¯ CRM ×ž×•×ª×× ××™×©×™×ª\nðŸ“± ×ª×–×›×•×¨×•×ª ××•×˜×•×ž×˜×™×•×ª (SMS, ×ž×™×™×œ, WhatsApp)\nðŸ“… × ×™×”×•×œ ×ª×•×¨×™× ×—×›×\nðŸ“Š ×ž×¢×§×‘ ××—×¨×™ ×œ×§×•×—×•×ª\nðŸ“¦ × ×™×”×•×œ ×ž×œ××™\nðŸ”— ××™× ×˜×’×¨×¦×™×•×ª\n\n×¢×œ ×ž×” ×ª×¨×¦×” ×œ×©×ž×•×¢ ×™×•×ª×¨?',
    ],
    quickReplies: [
      { label: 'CRM ×ž×•×ª××', value: 'crm' },
      { label: '×ª×–×›×•×¨×•×ª ××•×˜×•×ž×˜×™×•×ª', value: 'reminders' },
      { label: '× ×™×”×•×œ ×ª×•×¨×™×', value: 'scheduling' },
      { label: '×›×ž×” ×–×” ×¢×•×œ×”?', value: 'pricing' },
    ],
  },

  pricing: {
    patterns: ['×ª×ž×—×•×¨', '×ž×—×™×¨', '×›×ž×” ×–×” ×¢×•×œ×”', '×¢×œ×•×ª', '×ž×—×™×¨×•×Ÿ', '×›×¡×£', 'price'],
    responses: [
      '×™×© ×œ× ×• 3 ×—×‘×™×œ×•×ª:\n\nðŸ’¼ Basic - â‚ª4,990 (×—×“ ×¤×¢×ž×™)\n×ž×•×©×œ× ×œ×¢×¡×§×™× ×§×˜× ×™×\n\nâ­ Professional - â‚ª9,990 (×—×“ ×¤×¢×ž×™)\n×”×›×™ ×¤×•×¤×•×œ×¨×™! ×›×•×œ×œ ×”×›×œ\n\nðŸš€ Enterprise - ×ž×—×™×¨ ×ž×•×ª××\n×œ×¢×¡×§×™× ×’×“×•×œ×™×\n\n*×œ×œ× ×ž× ×•×™ ×—×•×“×©×™!*',
    ],
    quickReplies: [
      { label: '×¡×¤×¨ ×¢×•×“ ×¢×œ Professional', value: 'professional' },
      { label: '×× ×™ ×¨×•×¦×” ×“×ž×•', value: 'demo' },
      { label: '×“×‘×¨ ×¢× × ×¦×™×’', value: 'human' },
    ],
  },

  demo: {
    patterns: ['×“×ž×•', '×¤×’×™×©×”', '×”×“×’×ž×”', 'demo', '×œ×”×™×¤×’×©', '×œ×¨××•×ª', '×”×¦×’×”'],
    responses: [
      '×ž×¢×•×œ×”! ðŸŽ‰ ××©×ž×— ×œ×§×‘×•×¢ ×œ×š ×¤×’×™×©×ª ×“×ž×• ××™×©×™×ª.\n\n×× ×™ ×¦×¨×™×š ×›×ž×” ×¤×¨×˜×™× ×§×˜× ×™×:',
    ],
    requiresForm: true,
    formFields: ['name', 'email', 'phone', 'company'],
  },

  crm: {
    patterns: ['crm', '×œ×§×•×—×•×ª', '× ×™×”×•×œ ×œ×§×•×—×•×ª', '×ž×¢×¨×›×ª ×œ×§×•×—×•×ª'],
    responses: [
      '×”-CRM ×©×œ× ×• ×ž×•×ª×× ×‘×ž×™×•×—×“ ×œ×¢×¡×§ ×©×œ×š! ðŸŽ¯\n\nâœ… × ×™×”×•×œ ×›×¨×˜×™×¡×™ ×œ×§×•×—×•×ª\nâœ… ×”×™×¡×˜×•×¨×™×™×ª ×§× ×™×•×ª ×•×¤×¢×™×œ×•×ª\nâœ… ×ª×™×•×’ ×•×¡×™×•×•×’ ××•×˜×•×ž×˜×™\nâœ… ×“×©×‘×•×¨×“ ×—×›×\nâœ… ×”×ª×¨××•×ª ×¢×œ ×œ×§×•×—×•×ª ×©×œ× ×—×–×¨×•\n\n×”×›×œ ×¤×©×•×˜ ×•× ×•×— ×œ×ª×¤×¢×•×œ!',
    ],
    quickReplies: [
      { label: '×ª×›×•× ×•×ª × ×•×¡×¤×•×ª', value: 'features' },
      { label: '×›×ž×” ×–×” ×¢×•×œ×”?', value: 'pricing' },
      { label: '×× ×™ ×¨×•×¦×” ×“×ž×•', value: 'demo' },
    ],
  },

  reminders: {
    patterns: ['×ª×–×›×•×¨×•×ª', '×”×•×“×¢×•×ª', 'sms', '×•×•××˜×¡××¤', 'whatsapp', '×ž×™×™×œ'],
    responses: [
      '×”×ª×–×›×•×¨×•×ª ×”××•×˜×•×ž×˜×™×•×ª ×©×œ× ×• ×—×•×¡×›×•×ª ×œ×š ×”×ž×•×Ÿ ×–×ž×Ÿ! â°\n\nðŸ“§ ×ž×™×™×œ×™× ×ž×¢×•×¦×‘×™×\nðŸ“± SMS\nðŸ’¬ WhatsApp\n\n××¤×©×¨ ×œ×§×‘×•×¢:\nâ€¢ ×ª×–×›×•×¨×•×ª ×œ×¤× ×™ ×¤×’×™×©×”\nâ€¢ ×ª×–×›×•×¨×•×ª ×œ××—×¨ ×˜×™×¤×•×œ\nâ€¢ ×”×•×“×¢×•×ª ×‘×¨×›×” ×œ×œ×§×•×—×•×ª ×—×“×©×™×\nâ€¢ ×”×•×“×¢×•×ª follow-up\n\n×”×›×œ ××•×˜×•×ž×˜×™ ×œ×’×ž×¨×™!',
    ],
    quickReplies: [
      { label: '×ª×›×•× ×•×ª × ×•×¡×¤×•×ª', value: 'features' },
      { label: '×›×ž×” ×–×” ×¢×•×œ×”?', value: 'pricing' },
      { label: '×× ×™ ×¨×•×¦×” ×“×ž×•', value: 'demo' },
    ],
  },

  scheduling: {
    patterns: ['×ª×•×¨×™×', '×œ×•×— ×–×ž× ×™×', '×§×‘×™×¢×ª ×ª×•×¨', '× ×™×”×•×œ ×ª×•×¨×™×', 'scheduling'],
    responses: [
      '× ×™×”×•×œ ×”×ª×•×¨×™× ×”×—×›× ×©×œ× ×• ×–×” ×ž×©×—×§ ×ž× ×¦×—! ðŸ“…\n\nâœ… ×ž×™×œ×•×™ ××•×˜×•×ž×˜×™ ×©×œ ×ª×•×¨×™× ×ž×‘×•×˜×œ×™×\nâœ… ×¨×©×™×ž×ª ×”×ž×ª× ×” ×—×›×ž×”\nâœ… ××•×¤×˜×™×ž×™×–×¦×™×” ×©×œ ×œ×•×— ×”×–×ž× ×™×\nâœ… ×¡× ×›×¨×•×Ÿ ×¢× Google Calendar\nâœ… ×”×•×“×¢×•×ª ×ª×–×›×•×¨×ª ××•×˜×•×ž×˜×™×•×ª\n\n××£ ×ª×•×¨ ×œ× × ×©××¨ ×¨×™×§!',
    ],
    quickReplies: [
      { label: '×ª×›×•× ×•×ª × ×•×¡×¤×•×ª', value: 'features' },
      { label: '×›×ž×” ×–×” ×¢×•×œ×”?', value: 'pricing' },
      { label: '×× ×™ ×¨×•×¦×” ×“×ž×•', value: 'demo' },
    ],
  },

  professional: {
    patterns: ['professional', '×¤×¨×•×¤×©×™×•× ×œ', '×”×—×‘×™×œ×” ×”×¤×•×¤×•×œ×¨×™×ª'],
    responses: [
      '×”×—×‘×™×œ×” Professional ×”×™× ×”×›×™ ×¤×•×¤×•×œ×¨×™×ª! â­\n\n×ž×” ×›×œ×•×œ:\nâœ… CRM ×œ×œ× ×”×’×‘×œ×ª ×œ×§×•×—×•×ª\nâœ… ×ª×–×›×•×¨×•×ª ×‘×›×œ ×”×¢×¨×•×¦×™×\nâœ… × ×™×”×•×œ ×ª×•×¨×™× ×—×›×\nâœ… ×ž×¢×§×‘ ×œ×§×•×—×•×ª ××•×˜×•×ž×˜×™\nâœ… × ×™×”×•×œ ×ž×œ××™ ×‘×¡×™×¡×™\nâœ… ×ª×ž×™×›×” 24/7\nâœ… ×”×“×¨×›×” ×©×œ 4 ×©×¢×•×ª\n\n×ž×—×™×¨: â‚ª9,990 ×ª×©×œ×•× ×—×“-×¤×¢×ž×™!',
    ],
    quickReplies: [
      { label: '×× ×™ ×¨×•×¦×” ××ª ×–×”!', value: 'demo' },
      { label: '×”×©×•×•×” ×—×‘×™×œ×•×ª', value: 'pricing' },
      { label: '×“×‘×¨ ×¢× × ×¦×™×’', value: 'human' },
    ],
  },

  human: {
    patterns: ['× ×¦×™×’', '××“×', '×× ×•×©×™', 'human', '×“×‘×¨ ×¢× ×ž×™×©×”×•', '×©×™×—×” ×¢× × ×¦×™×’'],
    responses: [
      '×‘×˜×—! ×× ×™ ×ž×¢×‘×™×¨ ××•×ª×š ×œ× ×¦×™×’ ×× ×•×©×™ ðŸ‘¨â€ðŸ’¼\n\n××‘×œ ×§×•×“×, ×ª×¢×–×•×¨ ×œ×™ ×¢× ×›×ž×” ×¤×¨×˜×™× ×›×“×™ ×©×”× ×¦×™×’ ×™×•×›×œ ×œ×¢×–×•×¨ ×œ×š ×˜×•×‘ ×™×•×ª×¨:',
    ],
    requiresForm: true,
    formFields: ['name', 'phone', 'email', 'message'],
  },

  thanks: {
    patterns: ['×ª×•×“×”', 'thanks', '×ª× ×§×¡', '×™×¤×”', '×ž×¢×•×œ×”', '××—×œ×”'],
    responses: [
      '×‘×©×ž×—×”! ðŸ˜Š ×™×© ×¢×•×“ ×ž×©×”×• ×©××•×›×œ ×œ×¢×–×•×¨ ×‘×•?',
      '×ª×ž×™×“ ×œ×©×™×¨×•×ª×›×! ðŸ™Œ ×¦×¨×™×›×™× ×¢×•×“ ×ž×©×”×•?',
    ],
    quickReplies: [
      { label: '×œ×, ×–×” ×”×›×œ', value: 'bye' },
      { label: '×›×Ÿ, ×¢×•×“ ×©××œ×”', value: 'yes' },
    ],
  },

  bye: {
    patterns: ['×‘×™×™', '×œ×”×ª×¨××•×ª', 'bye', '×©×œ×•×', '×ª×•×“×” ×¨×‘×”', '×¡×™×™×ž× ×•'],
    responses: [
      '×”×™×” ×›×™×£ ×œ×¢×–×•×¨! ðŸ‘‹ × ×©×ž×— ×œ×¨××•×ª ××•×ª×š ×©×•×‘ ×‘×§×¨×•×‘.',
      '×œ×”×ª×¨××•×ª! ðŸ˜Š ×× ×ª×¦×˜×¨×š ×ž×©×”×• - ×× ×™ ×¤×”!',
    ],
    quickReplies: [],
  },

  fallback: {
    responses: [
      '×œ× ×‘×˜×•×— ×©×”×‘× ×ª×™... ðŸ¤”\n\n××¤×©×¨ ×œ× ×¡×•×ª ×œ×©××•×œ ××—×¨×ª? ××• ×œ×‘×—×•×¨ ×‘××—×ª ×ž×”××¤×©×¨×•×™×•×ª:',
    ],
    quickReplies: [
      { label: '×ª×›×•× ×•×ª ×”×ž×¢×¨×›×ª', value: 'features' },
      { label: '×ª×ž×—×•×¨', value: 'pricing' },
      { label: '×§×‘×™×¢×ª ×“×ž×•', value: 'demo' },
      { label: '×“×‘×¨ ×¢× × ×¦×™×’', value: 'human' },
    ],
  },
};

export const findIntent = (userInput) => {
  const input = userInput.toLowerCase().trim();
  
  for (const [intentName, intentData] of Object.entries(intents)) {
    if (intentData.patterns) {
      for (const pattern of intentData.patterns) {
        if (input.includes(pattern.toLowerCase())) {
          return intentName;
        }
      }
    }
  }
  
  return 'fallback';
};

export const getResponse = (intentName) => {
  const intent = intents[intentName] || intents.fallback;
  const responses = intent.responses;
  const randomResponse = responses[Math.floor(Math.random() * responses.length)];
  
  return {
    text: randomResponse,
    quickReplies: intent.quickReplies || [],
    requiresForm: intent.requiresForm || false,
    formFields: intent.formFields || [],
  };
};

